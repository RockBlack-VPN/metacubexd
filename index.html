<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>MetaCubeXD</title>

  <!-- Стили для увеличенных эмодзи-флагов -->
  <style>
    .emoji-flag {
      display: inline-block;
      width: 20px !important; /* Увеличено с 16px до 20px */
      height: 15px !important; /* Увеличено с 12px до 15px */
      margin: 0 5px !important; /* Немного увеличены отступы */
      vertical-align: middle !important;
      object-fit: contain !important;
    }
    
    /* Для Twemoji изображений */
    img.emoji {
      width: 20px !important; /* Увеличено с 16px до 20px */
      height: 15px !important; /* Увеличено с 12px до 15px */
      margin: 0 5px !important; /* Немного увеличены отступы */
      vertical-align: middle !important;
    }
    
    /* Для текста с флагами */
    span[role="img"] {
      font-size: 14px !important; /* Увеличено с 12px до 14px */
      vertical-align: middle !important;
      margin: 0 3px !important; /* Добавлены небольшие отступы для текстовых эмодзи */
    }
  </style>

  <!-- Конфиг -->
  <script src="config.js" onerror="window.__METACUBEXD_CONFIG__={defaultBackendURL:''}"></script>
  <script>
    window.__METACUBEXD_CONFIG__ = window.__METACUBEXD_CONFIG__ || { defaultBackendURL: '' }
  </script>

  <!-- CSS и Nuxt -->
  <link rel="stylesheet" href="./_nuxt/entry.CcFUvKfN.css" crossorigin>
  <link rel="modulepreload" as="script" crossorigin href="./_nuxt/CZEqKmNR.js">
  <script type="module" src="./_nuxt/CZEqKmNR.js" crossorigin></script>

  <!-- Favicon и PWA -->
  <meta name="theme-color" content="#000000">
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="apple-touch-icon" href="pwa-192x192.png">

  <script id="unhead:payload" type="application/json">{"title":"MetaCubeXD"}</script>
</head>
<body>
  <div id="__nuxt"></div>
  <div id="teleports"></div>

  <script>
    window.__NUXT__={};
    window.__NUXT__.config={
      public:{
        appVersion:"1.237.0",
        mockMode:false,
        i18n:{
          baseUrl:"",
          defaultLocale:"en",
          rootRedirect:"",
          redirectStatusCode:302,
          skipSettingLocaleOnNavigate:false,
          locales:[
            {code:"en",name:"English",language:""},
            {code:"zh",name:"简体中文",language:""},
            {code:"ru",name:"Русский",language:""}
          ],
          detectBrowserLanguage:{
            alwaysRedirect:false,
            cookieCrossOrigin:false,
            cookieDomain:"",
            cookieKey:"lang",
            cookieSecure:false,
            fallbackLocale:"en",
            redirectOn:"root",
            useCookie:true
          },
          experimental:{localeDetector:"",typedPages:true,typedOptionsAndMessages:false,alternateLinkCanonicalQueries:true,devCache:false,cacheLifetime:"",stripMessagesPayload:false,preload:false,strictSeo:false,nitroContextDetection:true,httpCacheDuration:10},
          domainLocales:{en:{domain:""},zh:{domain:""},ru:{domain:""}}
        }
      },
      app:{
        baseURL:"./",
        buildId:"cbd78e94-f8a1-4a93-a7ca-ad8e4b0827f7",
        buildAssetsDir:"/_nuxt/",
        cdnURL:""
      }
    }
  </script>

  <script type="application/json" data-nuxt-data="nuxt-app" data-ssr="false" id="__NUXT_DATA__">[{"prerenderedAt":1,"serverRendered":2},1770050638494,false]</script>

  <!-- Twemoji -->
  <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js"></script>

  <script>
    // Настройка Twemoji для увеличенных иконок
    const twemojiOptions = {
      folder: 'svg',
      ext: '.svg',
      className: 'emoji-flag',
      size: '20x15' // Увеличено с 16x12 до 20x15
    };

    // MutationObserver для SPA
    const observer = new MutationObserver(() => {
      // Парсим все эмодзи с нашими настройками
      twemoji.parse(document.body, twemojiOptions);
      
      // Дополнительная обработка для уже существующих эмодзи
      document.querySelectorAll('img.emoji, img.emoji-flag').forEach(img => {
        if (!img.classList.contains('emoji-flag')) {
          img.classList.add('emoji-flag');
        }
        // Устанавливаем увеличенные размеры
        img.style.width = '20px';
        img.style.height = '15px';
        img.style.margin = '0 5px';
        img.style.verticalAlign = 'middle';
      });
      
      // Обработка текстовых эмодзи (если Twemoji не преобразовал их в img)
      document.querySelectorAll('span[role="img"]').forEach(span => {
        span.style.fontSize = '14px';
        span.style.verticalAlign = 'middle';
        span.style.margin = '0 3px';
      });
    });

    observer.observe(document.getElementById('__nuxt'), {
      childList: true,
      subtree: true
    });

    // Инициализация при загрузке
    document.addEventListener('DOMContentLoaded', () => {
      twemoji.parse(document.body, twemojiOptions);
    });
  </script>
</body>
</html>
